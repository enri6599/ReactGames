{"ast":null,"code":"import _slicedToArray from\"C:/Users/Enrico/Workplace/progetto/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"C:/Users/Enrico/Workplace/progetto/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Enrico/Workplace/progetto/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Enrico/Workplace/progetto/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Enrico/Workplace/progetto/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Component}from'react';import{Button}from'reactstrap';import\"../../css/Tris.css\";function Square(props){var classes=\"squareTris\"+(props.selected?\" selected\":\"\");return/*#__PURE__*/_jsx(\"button\",{className:classes,onClick:props.onClick,children:props.value});}var Board=/*#__PURE__*/function(_Component){_inherits(Board,_Component);var _super=_createSuper(Board);function Board(){_classCallCheck(this,Board);return _super.apply(this,arguments);}_createClass(Board,[{key:\"renderSquare\",value:function renderSquare(){var _this=this;var table=[];for(var i=0;i<3;i++){var children=[];var _loop=function _loop(j){var squareNum=3*i+j;children.push(/*#__PURE__*/_jsx(Square,{value:_this.props.current.squares[squareNum],onClick:function onClick(){return _this.props.onClick(squareNum);},selected:_this.props.current.buttonclicked===squareNum||(_this.props.winline?_this.props.winline.some(function(el){return el===squareNum;}):false)},j));};for(var j=0;j<3;j++){_loop(j);}table.push(/*#__PURE__*/_jsx(\"div\",{className:\"board-row\",children:children},i));}return table;}},{key:\"render\",value:function render(){return this.renderSquare();}}]);return Board;}(Component);var Tris=/*#__PURE__*/function(_Component2){_inherits(Tris,_Component2);var _super2=_createSuper(Tris);function Tris(props){var _this2;_classCallCheck(this,Tris);_this2=_super2.call(this,props);_this2.state={history:[{squares:Array(9).fill(null),buttonclicked:-1}],stepNumber:0,xIsNext:true};return _this2;}_createClass(Tris,[{key:\"handleClick\",value:function handleClick(i){var history=this.state.history.slice(0,this.state.stepNumber+1);var current=history[history.length-1];var squares=current.squares.slice();var winner=calculateWinner(squares);if(winner||squares[i]){return;}squares[i]=this.state.xIsNext?'X':'O';this.setState({history:history.concat({squares:squares,buttonclicked:i}),stepNumber:history.length,xIsNext:!this.state.xIsNext});}},{key:\"jumpTo\",value:function jumpTo(step){this.setState({stepNumber:step,xIsNext:step%2===0});}},{key:\"render\",value:function render(){var _this3=this;var history=this.state.history;var current=history[this.state.stepNumber];var winner=calculateWinner(current.squares);var moves=history.map(function(step,move){var riga=Math.floor(step.buttonclicked/3)+1,colonna=step.buttonclicked%3+1;var desc=move?'Vai alla mossa '+move+' ('+riga+' '+colonna+')':'Ricomincia la partita';return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:function onClick(){return _this3.jumpTo(move);},children:desc})},move);});var status;if(winner){status='Vincitore: '+winner.winner;}else if(this.state.stepNumber===9){status='Pareggio';}else{status='Tocca ad '+(this.state.xIsNext?'X':'O');}return/*#__PURE__*/_jsxs(\"div\",{className:\"game\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-board\",children:/*#__PURE__*/_jsx(Board,{current:current,onClick:function onClick(i){return _this3.handleClick(i);},winline:winner?winner.winline:null})}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-info\",children:[/*#__PURE__*/_jsx(\"div\",{children:status}),/*#__PURE__*/_jsx(\"ol\",{children:moves})]})]});}}]);return Tris;}(Component);function calculateWinner(squares){var lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(var i=0;i<lines.length;i++){var _lines$i=_slicedToArray(lines[i],3),a=_lines$i[0],b=_lines$i[1],c=_lines$i[2];if(squares[a]&&squares[a]===squares[b]&&squares[a]===squares[c]){return{winner:squares[a],winline:lines[i]};}}return null;}export default Tris;","map":{"version":3,"sources":["C:/Users/Enrico/Workplace/progetto/src/component/Tris/Tris.js"],"names":["Component","Button","Square","props","classes","selected","onClick","value","Board","table","i","children","j","squareNum","push","current","squares","buttonclicked","winline","some","el","renderSquare","Tris","state","history","Array","fill","stepNumber","xIsNext","slice","length","winner","calculateWinner","setState","concat","step","moves","map","move","riga","Math","floor","colonna","desc","jumpTo","status","handleClick","lines","a","b","c"],"mappings":"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","sourcesContent":["import {Component} from 'react';\r\nimport {Button} from 'reactstrap';\r\nimport \"../../css/Tris.css\";\r\n\r\nfunction Square (props){\r\n  const classes = \"squareTris\" + (props.selected? \" selected\" : \"\")\r\n    return (\r\n      <button className={classes} onClick={props.onClick}>\r\n          {props.value}\r\n      </button>\r\n    );\r\n}\r\n\r\nclass Board extends Component {\r\n\r\n  renderSquare() {\r\n      let table=[];\r\n      for(let i=0;i<3;i++){\r\n        let children=[];\r\n        for(let j=0;j<3;j++){\r\n          let squareNum=3*i+j;\r\n          children.push(\r\n              <Square\r\n                key={j}\r\n                value={this.props.current.squares[squareNum]} \r\n                onClick={()=>this.props.onClick(squareNum)}\r\n                selected={\r\n                  this.props.current.buttonclicked===squareNum || \r\n                  (this.props.winline?this.props.winline.some(el=>el===squareNum):false)}\r\n              />);\r\n        }\r\n        table.push(<div key={i} className=\"board-row\">{children}</div>);\r\n      }\r\n      return table;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        this.renderSquare()\r\n    );\r\n  }\r\n}\r\n\r\nclass Tris extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      history: [{\r\n        squares: Array(9).fill(null),\r\n        buttonclicked:-1,\r\n      }],\r\n      stepNumber:0,\r\n      xIsNext:true,\r\n\r\n    };\r\n  }\r\n  \r\n  handleClick(i){\r\n    const history=this.state.history.slice(0, this.state.stepNumber + 1);\r\n    const current=history[history.length-1];\r\n    const squares = current.squares.slice();\r\n    let winner=calculateWinner(squares)\r\n    if (winner || squares[i]) {\r\n      return;\r\n    }\r\n    squares[i] = this.state.xIsNext? 'X' : 'O';\r\n    this.setState({\r\n      history: history.concat({squares:squares, buttonclicked:i}),\r\n      stepNumber:history.length,\r\n      xIsNext: !this.state.xIsNext,\r\n    });\r\n  }\r\n\r\n  jumpTo(step){\r\n    this.setState({\r\n      stepNumber:step,\r\n      xIsNext:(step%2)===0\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    const history = this.state.history;\r\n    const current = history[this.state.stepNumber];\r\n\r\n    let winner = calculateWinner(current.squares);\r\n\r\n    const moves = history.map((step,move) => {\r\n      let [riga, colonna]=[Math.floor(step.buttonclicked/3)+1, step.buttonclicked%3+1]\r\n      \r\n      const desc = move ?\r\n        'Vai alla mossa ' + move+' ('+ riga+' '+colonna+')':\r\n        'Ricomincia la partita';\r\n      return (\r\n        <li key={move}>\r\n          <Button color=\"primary\" onClick={() => this.jumpTo(move)}>{desc}</Button>\r\n        </li>\r\n      );\r\n    });\r\n\r\n    let status;\r\n    \r\n    if (winner) {\r\n      status = 'Vincitore: ' + winner.winner;\r\n    } else if(this.state.stepNumber===9){\r\n      status='Pareggio'\r\n    }else{\r\n      status = 'Tocca ad ' + (this.state.xIsNext ? 'X' : 'O');\r\n    }\r\n\r\n    return (\r\n      <div className=\"game\">\r\n        <div className=\"game-board\">\r\n          <Board \r\n            current={current}\r\n            onClick={(i)=>this.handleClick(i)}\r\n            winline={winner?winner.winline:null}\r\n          />\r\n        </div>\r\n        <div className=\"game-info\">\r\n          <div>{status}</div>\r\n          <ol>{moves}</ol>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction calculateWinner(squares) {\r\n  const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n      return {winner:squares[a], winline:lines[i]};\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n\r\nexport default Tris;\r\n"]},"metadata":{},"sourceType":"module"}